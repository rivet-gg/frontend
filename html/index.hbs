<!DOCTYPE html>
<html lang="en">

	<head>
		<link>
		<meta charset=utf-8>
		<title>Rivet</title>

		<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, viewport-fit=cover, minimal-ui">
		<meta name="description" content="The backbone of multiplayer experiences">
		<meta name="mobile-web-app-capable" content="yes">

		{{!-- Disable indexing since there is no valuable info on our SPA --}}
		<meta name="robots" content="noindex">
		
		{{> partials/meta }}

		<!-- Styling -->
		<link href="/fonts/fonts.css" rel="stylesheet" />
		<style>
			html, body {
				/* Fill page */
				margin: 0;
				padding: 0;
				width: 100%;
				height: 100%;

				/* Background */
				background-color: #18181b;

				/* Prevent selection */
				-webkit-user-select: none;
				user-select: none;
				cursor: default;

				/* Allow smooth scrolling on iOS */
				-webkit-overflow-scrolling: touch;

				/* Font style */
				color: white;
				font-family: "Open Sans", sans-serif;
			}

			:root {
				-webkit-tap-highlight-color: rgba(0, 0, 0, 0);
				
				--sat: env(safe-area-inset-top, 0px);
				--sar: env(safe-area-inset-right, 0px);
				--sab: env(safe-area-inset-bottom, 0px);
				--sal: env(safe-area-inset-left, 0px);
			}

			/* Prevent overscroll */
			html {
				height: 100%;
			}

			body {
				height: 100%;
				overflow: auto;
			}

			/* No scroll */
			body.no-scroll {
				overflow: hidden;
			}

			#loading {
				position: fixed;
				left: 0;
				right: 0;
				top: 0;
				bottom: 0;

				background-color: #18181b;
				text-align: center;
				color: white;

				z-index: 99999999;

				transition: opacity 350ms cubic-bezier(1,0,1,.99) 150ms;
			}

			#loading-logo {
				position: absolute;
				left: 50%;
				top: 50%;
				width: 50px;
				height: 50px;

				transition: transform 550ms cubic-bezier(.35,-0.57,1,.38);
			}

			#loading.hidden {
				opacity: 0;
				pointer-events: none;
			}

			#loading:not(.hidden) #loading-logo {
				transform: translate(-50%, -50%);
			}

			#loading.hidden #loading-logo {
				transform: translate(-50%, -50%) scale(2);
			}

			#turnstile {
				position: fixed;
				left: 0;
				top: 0;
				width: 100vw;
				height: 100vh;
				display: flex;
				flex-direction: column-reverse;
				align-items: center;
				justify-content: center;
				background-color: #000000a0;
				z-index: 999;
			}
			#turnstile stylized-button {
				margin-top: 20px;
				--box-shadow: 0 1px 6px rgba(0, 0, 0, 0.17);
			}
		</style>
		<script src="https://challenges.cloudflare.com/turnstile/v0/api.js?render=explicit" async defer></script>
	</head>

	<body>
		<div id="loading">
			<img id="loading-logo" src="{{rivetLogoEncoded}}" alt="Rivet Logo"/>
		</div>
		<div id="devtools"></div>
	</body>

</html>
